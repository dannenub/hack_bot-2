<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aviator Predictor</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-black to-gray-800 text-white p-4 font-sans">

  <div id="start" class="bg-zinc-900 p-8 rounded-3xl w-full max-w-md text-center shadow-2xl border border-gray-700">
    <h2 class="text-2xl font-extrabold mb-4 text-green-400">Bot crÃ©Ã© pour la plateforme BetAndYou</h2>
    <input
      id="userId"
      type="text"
      maxlength="10"
      placeholder="Entrez votre ID (10 chiffres)"
      class="w-full p-3 rounded-xl border-2 text-center outline-none transition mb-4 border-gray-400 bg-white text-black"
    />
    <button
      onclick="enterApp()"
      class="bg-green-500 hover:bg-green-400 transition text-black font-bold px-4 py-2 rounded-xl w-full"
    >
      Entrer
    </button>

    <div class="mt-6 space-y-2 text-left">
      <p class="italic text-gray-300">Â« Oui, Ã§a marche ! Â» â˜…â˜…â˜…â˜…â˜…</p>
      <p class="italic text-gray-300">Â« Merci pour ce bot VIP Â» â˜…â˜…â˜…â˜…â˜…</p>
    </div>
  </div>

  <div id="predict" class="hidden bg-zinc-900 p-8 rounded-3xl w-full max-w-md text-center shadow-2xl border border-gray-700">
    <h2 class="text-3xl font-extrabold mb-6 text-green-400">ðŸŽ¯ Aviator PrÃ©dicteur</h2>
    <button
      onclick="predict()"
      class="bg-green-500 hover:bg-green-400 transition text-black font-bold px-6 py-3 rounded-xl"
    >
      PrÃ©dire
    </button>
    <div id="coefBox" class="text-yellow-400 text-4xl font-bold mt-6 hidden"></div>
    <div id="historyBox" class="mt-6 text-left hidden">
      <h3 class="text-sm text-gray-400 mb-2">Historique :</h3>
      <ul id="historyList" class="text-sm space-y-1 max-h-40 overflow-y-auto"></ul>
    </div>
  </div>

  <script>
    const userIdInput = document.getElementById("userId");
    const startDiv = document.getElementById("start");
    const predictDiv = document.getElementById("predict");
    const coefBox = document.getElementById("coefBox");
    const historyBox = document.getElementById("historyBox");
    const historyList = document.getElementById("historyList");
    let history = [];

    userIdInput.addEventListener("input", () => {
      if (/^\d{10}$/.test(userIdInput.value)) {
        userIdInput.classList.remove("border-gray-400", "bg-white");
        userIdInput.classList.add("border-green-500", "bg-green-200");
      } else {
        userIdInput.classList.remove("border-green-500", "bg-green-200");
        userIdInput.classList.add("border-gray-400", "bg-white");
      }
    });

    function enterApp() {
      if (/^\d{10}$/.test(userIdInput.value)) {
        startDiv.classList.add("hidden");
        predictDiv.classList.remove("hidden");
      } else {
        alert("Veuillez saisir un ID correct (10 chiffres)");
      }
    }

    function predict() {
      const r = Math.random();
      let c;
      if (r < 0.75) c = 1 + Math.random() * 2.5;
      else if (r < 0.95) c = 3.5 + Math.random() * 6.5;
      else c = 10 + Math.random() * 70;
      c = c.toFixed(2);

      coefBox.textContent = "Coefficient : " + c + "x";
      coefBox.classList.remove("hidden");

      history.unshift({ v: c, t: new Date().toLocaleTimeString() });
      history = history.slice(0, 10);

      historyList.innerHTML = "";
      history.forEach(h => {
        const li = document.createElement("li");
        li.className = "text-gray-300";
        li.textContent = `${h.v}x â€¢ ${h.t}`;
        historyList.appendChild(li);
      });

      historyBox.classList.remove("hidden");
    }
  </script>
</body>
</html>
